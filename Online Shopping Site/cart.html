<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="home.html">home</a></li>
            <li><a href="login.html">login</a></li>
            <li><a href="products.html">products</a></li>
            <li><a href="cart.html">cart</a></li>
            <li><a href="contact.html">contact</a></li>
            <li><a href="report.html">report</a></li>
    </nav>
    

<h2 class="title">Your Cart</h2>

<table id="cartTable">
    <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Total</th>
        <th>Action</th>
    </tr>
</table>

<h3 class="grand">Grand Total: â‚¹<span id="grandTotal">0</span></h3>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function loadCart(){
    let table = document.getElementById("cartTable");
    let total = 0;

    cart.forEach((item,i)=>{
        let row = table.insertRow();
        row.innerHTML = `
        <td>${item.name}</td>
        <td>${item.price}</td>
        <td><input type="number" value="${item.quantity}" min="1" onchange="updateQty(${i},this.value)"></td>
        <td>${item.price*item.quantity}</td>
        <td><button onclick="removeItem(${i})">Remove</button></td>
        `;
        total += item.price * item.quantity;
    });

    document.getElementById("grandTotal").innerText = total;
}

function updateQty(i,qty){
    cart[i].quantity = qty;
    localStorage.setItem("cart",JSON.stringify(cart));
    location.reload();
}

function removeItem(i){
    cart.splice(i,1);
    localStorage.setItem("cart",JSON.stringify(cart));
    location.reload();
}

loadCart();
</script>
</body>
</html>